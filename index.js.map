{"version":3,"file":"index.js","sources":["../src/js/artist-modal.js","../src/img/icons.svg","../src/js/artists-section.js","../src/js/menu.js","../src/js/modal.js","../src/js/modal-feedback.js","../src/img/star-rating.icons.svg?raw","../src/js/feedback.js","../src/main.js"],"sourcesContent":["import '../css/artist-modal.css';\nimport axios from 'axios';\n\n\nexport async function listenArtistsSection() {\n  const learnBtns = document.querySelectorAll('.learn-more');\n  const loader = document.querySelector('[data-artists-loader]');\n\n  learnBtns.forEach(btn => {\n    btn.addEventListener('click', async () => {\n      loader.hidden = false;\n      const artistId = btn.dataset.id;\n\n      try {\n        const response = await axios.get(`/artists/${artistId}/albums`);\n        const artist = response.data;\n\n        const modal = document.querySelector('.artist-modal');\n        const modalContent = document.querySelector('.artist-info');\n        modalContent.innerHTML = renderArtistModal(artist);\n        modal.classList.remove('hidden-artist-modal');\n      } catch (error) {\n        console.error('Error loading artist info:', error);\n      } finally {\n        loader.hidden = true;\n      }\n    });\n  });\n}\n\n  const closeBtn = document.querySelector('.close-artist-modal');\n  closeBtn.addEventListener('click', () => {\n    const modal = document.querySelector('.artist-modal');\n    modal.classList.add('hidden-artist-modal');\n  });\n\n\n\nfunction renderArtistModal(artist) {\n  return `\n    <h2 class=\"artist-name\">${artist.strArtist}</h2>\n    <div class=\"det_info\">\n      <img src=\"${artist.strArtistThumb}\" class=\"artist-img\" alt=\"${artist.strArtist}\">\n      <ul class=\"artist-details\">\n        <li>Years active<br>\n        ${artist.intFormedYear || '?'} – ${artist.intDiedYear || 'present'}</li>\n        <li>Sex<br>\n        ${artist.strGender || '?'}</li>\n        <li>Members<br>\n        ${artist.intMembers || '?'}</li>\n        <li>Country<br>\n        ${artist.strCountry || '?'}</li>\n        <li>Biography<br>\n        ${artist.strBiographyEN || 'No info'}</li>\n        <li>\n          <ul class=\"artist-modal-genres\">\n            ${artist.genres?.map(g => `<li>${g}</li>`).join('') || 'No genres'}\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <div class=\"album-full\">\n      <h3 class=\"alb\">Albums</h3>\n      <div class=\"albums-grid\">\n        ${artist.albumsList?.map(album => `\n          <div class=\"album-modal-card\">\n            <h4>${album.strAlbum}</h4>\n            <div class=\"track-table\">\n              <div class=\"track-header\">\n                <div>Track</div>\n                <div>Time</div>\n                <div>Link</div>\n              </div>\n              <div class=\"track-body\">\n                ${album.tracks?.map(track => `\n                  <div class=\"track-row\">\n                    <div class=\"track-name\">${track.strTrack}</div>\n                    <div class=\"track-time\">${(track.intDuration / 60000).toFixed(2) || ''}</div>\n                    <div class=\"track-link\">\n                      ${track.movie ? `\n                        <a href=\"${track.movie}\" target=\"_blank\">\n                          <svg width=\"24px\" height=\"24px\" class=\"youtube-modal\">\n                            <use href=\"/img/icons.svg#icon-Youtube\"></use>\n                          </svg>\n                        </a>` : ''}\n                    </div>\n                  </div>\n                `).join('')}\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    </div>\n  `;\n}\n","export default \"__VITE_ASSET__CPdG1n5D__\"","import axios from 'axios';\n\nimport { listenArtistsSection } from './artist-modal.js';\nimport icons from '../img/icons.svg'\n\nexport async function getArtists(page = 1, limit = 8) {\n  const response = await axios.get('/artists', {\n    params: { page, limit },\n  });\n  return response.data;\n}\n\nfunction createArtistCard(artist) {\n  return `\n    <li class=\"artist-card\">\n      <img\n        class=\"artist-photo\"\n        src=\"${artist.strArtistThumb || 'https://via.placeholder.com/150'}\"\n        alt=\"${artist.strArtist}\"\n      />\n\n      <ul class=\"artist-genres\">\n        ${artist.genres?.map(genre => `<li>${genre}</li>`).join('') || ''}\n      </ul>\n\n      <h3 class=\"artist-name\">${artist.strArtist}</h3>\n\n      <p class=\"artist-description\">\n        ${\n          artist.strBiographyEN\n            ? artist.strBiographyEN.slice(0, 100) + '...'\n            : 'No description'\n        }\n      </p>\n\n      <button class=\"learn-more\" data-id=\"${artist._id}\">\n        Learn More\n        <svg class=\"icon-artists-learn-more\" width=\"8\" height=\"24\">\n          <use xlink:href=\"${icons}#icon-artist-svg-1\"></use>\n        </svg>\n      </button>\n    </li>\n  `;\n}\n\nexport async function renderArtists(data, page, limit) {\n  const grid = document.querySelector('[data-artists-grid]');\n  const loadMoreBtn = document.querySelector('[data-artists-load]');\n  const loader = document.querySelector('[data-artists-loader]');\n\n  loader.hidden = false;\n  loadMoreBtn.hidden = true;\n\n  grid.insertAdjacentHTML(\n    'beforeend',\n    data.artists.map(createArtistCard).join('')\n  );\n\n  loader.hidden = true;\n\n  if (page * limit < data.totalArtists) {\n    loadMoreBtn.hidden = false;\n  }\n\n  loadMoreBtn?.addEventListener('click', async () => {\n    page++;\n    const artists = await getArtists(page);\n    await renderArtists(artists, page, limit);\n    listenArtistsSection();\n  });\n}\n\n/* #################################################################### */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const section = document.querySelector('.artists-section');\n  if (!section) return;\n\n  const btnReset = section.querySelector('.filters__reset');\n  const inputSearch = section.querySelector('.filters__input');\n  const selects = [...section.querySelectorAll('.filters__select')];\n\n  const defaults = { search: '', sorting: 'Default', genre: 'All Genres' };\n\n  // ====== ініт селектів ======\n  selects.forEach(initSelect);\n\n  // закривати всі селекти при кліку назовні\n  document.addEventListener('click', e => {\n    selects.forEach(sel => {\n      if (!sel.contains(e.target)) closeSelect(sel);\n    });\n  });\n\n  function initSelect(sel) {\n    const btn = sel.querySelector('.filters__select-label');\n    const menu = sel.querySelector('.filters__menu');\n    const opts = [...menu.querySelectorAll(\"[role='option']\")];\n\n    btn.addEventListener('click', () => {\n      const open = !sel.classList.contains('is-open');\n      closeAll();\n      if (open) openSelect(sel);\n      else closeSelect(sel);\n    });\n\n    // клавіатура на кнопці\n    btn.addEventListener('keydown', e => {\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        openSelect(sel);\n        opts[0].focus();\n      }\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        btn.click();\n      }\n      if (e.key === 'Escape') closeSelect(sel);\n    });\n\n    // опції\n    opts.forEach((opt, i) => {\n      opt.setAttribute('tabindex', '0');\n\n      opt.addEventListener('click', () => choose(opt));\n      opt.addEventListener('keydown', e => {\n        if (e.key === 'ArrowDown') {\n          e.preventDefault();\n          (opts[i + 1] || opts[0]).focus();\n        }\n        if (e.key === 'ArrowUp') {\n          e.preventDefault();\n          (opts[i - 1] || opts.at(-1)).focus();\n        }\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          choose(opt);\n        }\n        if (e.key === 'Escape') {\n          closeSelect(sel);\n          btn.focus();\n        }\n      });\n    });\n\n    function choose(opt) {\n      opts.forEach(o => o.setAttribute('aria-selected', 'false'));\n      opt.setAttribute('aria-selected', 'true');\n\n      // оновити текст кнопки (залишаємо SVG)\n      const text = opt.textContent.trim();\n      btn.childNodes.forEach(n => {\n        if (n.nodeType === 3) n.nodeValue = ' ' + text;\n      });\n\n      closeSelect(sel);\n      updateResetState();\n\n      // подія наверх (за бажанням використовуй для реального фільтру)\n      const name = sel.dataset.name || 'select';\n      sel.dispatchEvent(\n        new CustomEvent('filterchange', {\n          bubbles: true,\n          detail: { name, value: text },\n        })\n      );\n    }\n  }\n\n  function openSelect(sel) {\n    sel.classList.add('is-open');\n    sel\n      .querySelector('.filters__select-label')\n      ?.setAttribute('aria-expanded', 'true');\n  }\n  function closeSelect(sel) {\n    sel.classList.remove('is-open');\n    sel\n      .querySelector('.filters__select-label')\n      ?.setAttribute('aria-expanded', 'false');\n  }\n  function closeAll() {\n    selects.forEach(closeSelect);\n  }\n\n  // ====== Reset ======\n  function currentValues() {\n    return {\n      search: (inputSearch?.value || '').trim(),\n      sorting: selects[0]\n        .querySelector('[aria-selected=\"true\"]')\n        .textContent.trim(),\n      genre: selects[1]\n        .querySelector('[aria-selected=\"true\"]')\n        .textContent.trim(),\n    };\n  }\n\n  function updateResetState() {\n    const v = currentValues();\n    const dirty =\n      v.search !== defaults.search ||\n      v.sorting !== defaults.sorting ||\n      v.genre !== defaults.genre;\n    btnReset.disabled = !dirty;\n  }\n\n  btnReset.addEventListener('click', () => {\n    if (btnReset.disabled) return;\n\n    // 1) пошук\n    if (inputSearch) inputSearch.value = defaults.search;\n\n    // 2) селекти — на перші значення й повернути плейсхолдери\n    selects.forEach(sel => {\n      const first = sel.querySelector(\"[role='option']\");\n      sel\n        .querySelectorAll(\"[role='option']\")\n        .forEach(li => li.setAttribute('aria-selected', 'false'));\n      if (first) first.setAttribute('aria-selected', 'true');\n\n      const label = sel.querySelector('.filters__select-label');\n      const placeholder =\n        sel.dataset.name === 'sorting'\n          ? 'Sorting'\n          : sel.dataset.name === 'genre'\n          ? 'Genre'\n          : first?.textContent.trim();\n      label.childNodes.forEach(n => {\n        if (n.nodeType === 3) n.nodeValue = ' ' + placeholder;\n      });\n      closeSelect(sel);\n    });\n\n    section.dispatchEvent(new CustomEvent('filtersreset', { bubbles: true }));\n    updateResetState();\n  });\n\n  // live-перерахунок стану\n  inputSearch?.addEventListener('input', updateResetState);\n\n  updateResetState();\n});\n\n/* ###################################################################### */\n","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n  };\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n  };\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();","(() => {\n  const refs = {\n    openModalBtn: document.querySelector(\"[data-modal-feedback-open]\"),\n    closeModalBtn: document.querySelector(\"[data-modal-feedback-close]\"),\n    modal: document.querySelector(\"[data-modal-feedback]\"),\n    form: document.querySelector(\".feedback-form\"),\n  };\n\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n\n  // закрытие по backdrop\n  refs.modal.addEventListener(\"click\", (e) => {\n    if (e.target === refs.modal) closeModal();\n  });\n\n  // закрытие по Escape\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"Escape\" && !refs.modal.classList.contains(\"is-hidden\")) {\n      closeModal();\n    }\n  });\n\n  function toggleModal() {\n    refs.modal.classList.toggle(\"is-hidden\");\n    document.body.classList.toggle(\"no-scroll\");\n  }\n\n  function closeModal() {\n    refs.modal.classList.add(\"is-hidden\");\n    document.body.classList.remove(\"no-scroll\");\n  }\n\n  // рейтинг\n  const stars = document.querySelectorAll(\".rating .star\");\n  let currentRating = 0;\n\n  stars.forEach((star, index) => {\n    star.addEventListener(\"click\", () => {\n      currentRating = index + 1;\n      stars.forEach((s, i) => {\n        s.classList.toggle(\"active\", i < currentRating);\n      });\n    });\n  });\n\n  // отправка формы\n  refs.form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const name = refs.form.elements[\"name\"].value.trim();\n    const descr = refs.form.elements[\"message\"].value.trim();\n    const rating = currentRating;\n\n      \n    if (name.length < 2 || name.length > 16) {\n      alert(\"Ім’я має бути від 2 до 16 символів.\");\n      return;\n    }\n    if (rating < 1 || rating > 5) {\n      alert(\"Оберіть рейтинг від 1 до 5 зірок.\");\n      return;\n    }\n    if (descr.length < 10 || descr.length > 512) {\n      alert(\"Повідомлення має бути від 10 до 512 символів.\");\n      return;\n    }\n\n    try {\n      const res = await fetch(\"-\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, rating, descr }),\n      });\n\n      if (!res.ok) throw new Error(\"Помилка сервера\");\n\n      closeModal();\n      refs.form.reset();\n      currentRating = 0;\n      stars.forEach((s) => s.classList.remove(\"active\"));\n\n      alert(\"Дякуємо за відгук!\");\n    } catch (err) {\n      alert(\"Не вдалося відправити відгук: \" + err.message);\n    }\n  });\n})();\n","export default \"<svg style=\\\"position: absolute; width: 0; height: 0; overflow: hidden;\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n     xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <defs>\\n        <symbol id=\\\"star-empty\\\" viewBox=\\\"0 0 34 32\\\">\\n            <title>star-empty</title>\\n            <path class=\\\"path-star-empty\\\"\\n                  d=\\\"M33.412 12.395l-11.842-1.021-4.628-10.904-4.628 10.92-11.842 1.005 8.993 7.791-2.701 11.579 10.179-6.144 10.179 6.144-2.685-11.579 8.976-7.791zM16.941 22.541l-6.193 3.739 1.647-7.049-5.468-4.744 7.214-0.626 2.8-6.638 2.816 6.654 7.214 0.626-5.468 4.744 1.647 7.049-6.209-3.755z\\\"/>\\n        </symbol>\\n        <symbol id=\\\"star-half\\\" viewBox=\\\"0 0 34 32\\\">\\n            <title>star-half</title>\\n            <path class=\\\"path-star-half\\\"\\n                  d=\\\"M 33.412,12.395 21.57,11.374 16.942,0.47 12.314,11.39 0.472,12.395 9.465,20.186 6.764,31.765 16.943,25.621 27.122,31.765 24.437,20.186 33.413,12.395 Z M 16.941,22.541 c 0,0 -0.297971,-14.6455833 0,-15.318 l 2.816,6.654 7.214,0.626 -5.468,4.744 1.647,7.049 z\\\"/>\\n            </symbol>\\n        <symbol id=\\\"star-filled\\\" viewBox=\\\"0 0 34 32\\\">\\n            <title>star-filled</title>\\n            <path class=\\\"path-star-filled\\\"\\n                  d=\\\"M16.941 25.621l10.179 6.144-2.701-11.579 8.993-7.791-11.842-1.005-4.628-10.92-4.628 10.92-11.842 1.005 8.993 7.791-2.701 11.579z\\\"/>\\n        </symbol>\\n    </defs>\\n</svg>\"","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\nimport Raty from 'raty-js';\n\nimport { Navigation, Pagination } from 'swiper/modules';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport 'css-star-rating/css/star-rating.min.css';\nimport starSprite from '../img/star-rating.icons.svg?raw';\n\nexport async function getReviewsByQuery() {\n    const response = await axios.get('/feedbacks', {\n        params: { limit: 10, page: 1 },\n    });\n    return response.data;\n}\n\nexport async function handleReviews(reviews) {\n    const wrapper = document.querySelector('div.swiper-wrapper');\n\n    const markup = reviews.map(({ name, rating, descr }, index) =>\n        `<div class=\"swiper-slide\">\n            <div class=\"feedback-card\">\n                ${setRating(rating)}\n                <p class=\"review\">\"${descr}\"</p>\n                <p class=\"review-author-name\">${name}</p>\n            </div>\n        </div>`\n    ).join('');\n\n    wrapper.insertAdjacentHTML('beforeend', markup);\n\n    createCustomPagination(reviews.length);\n    const swiper = new Swiper('.swiper', {\n        modules: [Navigation, Pagination],\n        direction: 'horizontal',\n        loop: true,\n        pagination: {\n            el: '.swiper-pagination',\n            type: 'custom',\n            renderCustom: function (swiper, current, total) {\n                return renderCustomPagination(current, total);\n            }\n        },\n        navigation: {\n            nextEl: '.swiper-button-next',\n            prevEl: '.swiper-button-prev',\n        },\n        on: {\n            slideChange: function () {\n                updateCustomPagination(this.realIndex + 1, reviews.length);\n            }\n        }\n    });\n\n    document.querySelector('.swiper-button-next').addEventListener('click', () => swiper.slideNext());\n    document.querySelector('.swiper-button-prev').addEventListener('click', () => swiper.slidePrev());\n    updateCustomPagination(1, reviews.length);\n}\n\nfunction createCustomPagination(totalSlides) {\n    const paginationContainer = document.querySelector('.swiper-pagination');\n    paginationContainer.innerHTML = `\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"first\" aria-label=\"First slide\"></span>\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"middle\" aria-label=\"Middle slides\"></span>\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"last\" aria-label=\"Last slide\"></span>`;\n}\n\nfunction renderCustomPagination(current, total) {\n    return `\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"first\"></span>\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"middle\"></span>\n        <span class=\"swiper-pagination-bullet custom-bullet\" data-position=\"last\"></span>`;\n}\n\nfunction updateCustomPagination(currentSlide, totalSlides) {\n    const bullets = document.querySelectorAll('.custom-bullet');    \n    bullets.forEach(bullet => bullet.classList.remove('swiper-pagination-bullet-active'));\n    if (currentSlide === 1) {\n        bullets[0].classList.add('swiper-pagination-bullet-active');\n    } else if (currentSlide === totalSlides) {\n        bullets[2].classList.add('swiper-pagination-bullet-active');\n    } else {\n        bullets[1].classList.add('swiper-pagination-bullet-active');\n    }\n}\n\nfunction setRating(rating) {\n    const SPRITE_MOUNT_ID = 'star-rating-sprite';\n    if (!document.getElementById(SPRITE_MOUNT_ID)) {\n        const div = document.createElement('div');\n        div.id = SPRITE_MOUNT_ID;\n        div.style.position = 'absolute';\n        div.style.width = '0';\n        div.style.height = '0';\n        div.style.overflow = 'hidden';\n        div.innerHTML = starSprite;\n        document.body.prepend(div);\n    }\n    const rounded = Math.round(rating);\n    const stars = Array.from({ length: 5 }, (_, i) => {\n        const filled = i < rounded;\n        return `\n            <svg class=\"star ${filled ? 'filled' : 'empty'}\" aria-hidden=\"true\" width=\"20\" height=\"20\">\n                <use href=\"#star-filled\"></use>\n            </svg>`;\n    }).join('');\n\n    return `<div class=\"rating star-svg value-${rounded}\" aria-label=\"Rating ${rounded} out of 5\">\n        <div class=\"star-container\">${stars}</div>\n        </div>`;\n}\n","\nimport './js/artists-section.js'\nimport './js/menu'\nimport './js/modal'\nimport './js/modal-feedback'\nimport './js/artist-modal'\nimport './js/feedback'\nimport './js/artists-section'\n\n\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getReviewsByQuery, handleReviews } from './js/feedback.js';\nimport { getArtists, renderArtists } from './js/artists-section.js';\nimport { listenArtistsSection } from './js/artist-modal.js';\n\nimport './css/artists-section.css';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nasync function fetchData() {\n  const currentPage = 1;\n  const limit = 8;\n  const artists = await getArtists(currentPage);\n  console.log(`Artists: ${JSON.stringify(artists)}`);\n  await renderArtists(artists, currentPage, limit);\n  listenArtistsSection();\n\n  const reviews = await getReviewsByQuery();\n  console.log(`Review: ${JSON.stringify(reviews)}`);\n  await handleReviews(reviews.data);\n}\n\nfetchData();\n"],"names":["listenArtistsSection","learnBtns","loader","btn","artistId","artist","axios","modal","modalContent","renderArtistModal","error","closeBtn","_a","g","_b","album","track","icons","getArtists","page","limit","createArtistCard","genre","renderArtists","data","grid","loadMoreBtn","artists","section","btnReset","inputSearch","selects","defaults","initSelect","e","sel","closeSelect","opts","open","closeAll","openSelect","opt","i","choose","o","text","n","updateResetState","name","currentValues","v","dirty","first","li","label","placeholder","refs","toggleModal","closeModal","stars","currentRating","star","index","s","descr","rating","err","starSprite","getReviewsByQuery","handleReviews","reviews","wrapper","markup","setRating","createCustomPagination","swiper","Swiper","Navigation","Pagination","current","total","renderCustomPagination","updateCustomPagination","totalSlides","paginationContainer","currentSlide","bullets","bullet","SPRITE_MOUNT_ID","div","rounded","_","fetchData"],"mappings":"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"}