{"version":3,"file":"index.js","sources":["../src/js/menu.js","../src/js/modal.js","../src/js/modal-feedback.js"],"sourcesContent":["(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n  };\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n  };\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();","(() => {\n  const refs = {\n    openModalBtn: document.querySelector(\"[data-modal-feedback-open]\"),\n    closeModalBtn: document.querySelector(\"[data-modal-feedback-close]\"),\n    modal: document.querySelector(\"[data-modal-feedback]\"),\n    form: document.querySelector(\".feedback-form\"),\n  };\n\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n\n  // закрытие по backdrop\n  refs.modal.addEventListener(\"click\", (e) => {\n    if (e.target === refs.modal) closeModal();\n  });\n\n  // закрытие по Escape\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"Escape\" && !refs.modal.classList.contains(\"is-hidden\")) {\n      closeModal();\n    }\n  });\n\n  function toggleModal() {\n    refs.modal.classList.toggle(\"is-hidden\");\n    document.body.classList.toggle(\"no-scroll\");\n  }\n\n  function closeModal() {\n    refs.modal.classList.add(\"is-hidden\");\n    document.body.classList.remove(\"no-scroll\");\n  }\n\n  // рейтинг\n  const stars = document.querySelectorAll(\".rating .star\");\n  let currentRating = 0;\n\n  stars.forEach((star, index) => {\n    star.addEventListener(\"click\", () => {\n      currentRating = index + 1;\n      stars.forEach((s, i) => {\n        s.classList.toggle(\"active\", i < currentRating);\n      });\n    });\n  });\n\n  // отправка формы\n  refs.form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const name = refs.form.elements[\"name\"].value.trim();\n    const descr = refs.form.elements[\"message\"].value.trim();\n    const rating = currentRating;\n\n      \n    if (name.length < 2 || name.length > 16) {\n      alert(\"Ім’я має бути від 2 до 16 символів.\");\n      return;\n    }\n    if (rating < 1 || rating > 5) {\n      alert(\"Оберіть рейтинг від 1 до 5 зірок.\");\n      return;\n    }\n    if (descr.length < 10 || descr.length > 512) {\n      alert(\"Повідомлення має бути від 10 до 512 символів.\");\n      return;\n    }\n\n    try {\n      const res = await fetch(\"-\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, rating, descr }),\n      });\n\n      if (!res.ok) throw new Error(\"Помилка сервера\");\n\n      closeModal();\n      refs.form.reset();\n      currentRating = 0;\n      stars.forEach((s) => s.classList.remove(\"active\"));\n\n      alert(\"Дякуємо за відгук!\");\n    } catch (err) {\n      alert(\"Не вдалося відправити відгук: \" + err.message);\n    }\n  });\n})();\n"],"names":["refs","toggleModal","e","closeModal","stars","currentRating","star","index","s","i","name","descr","rating","err"],"mappings":"usBAAC,IAAM,CACL,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,kBAAkB,EACvD,cAAe,SAAS,cAAc,mBAAmB,EACzD,MAAO,SAAS,cAAc,aAAa,CAC/C,EACEA,EAAK,aAAa,iBAAiB,QAASC,CAAW,EACvDD,EAAK,cAAc,iBAAiB,QAASC,CAAW,EACxD,SAASA,GAAc,CACrBD,EAAK,MAAM,UAAU,OAAO,SAAS,CACtC,CACH,GAAI,GCXH,IAAM,CACL,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,mBAAmB,EACxD,cAAe,SAAS,cAAc,oBAAoB,EAC1D,MAAO,SAAS,cAAc,cAAc,CAChD,EACEA,EAAK,aAAa,iBAAiB,QAASC,CAAW,EACvDD,EAAK,cAAc,iBAAiB,QAASC,CAAW,EACxD,SAASA,GAAc,CACrBD,EAAK,MAAM,UAAU,OAAO,SAAS,CACtC,CACH,GAAI,GCXH,IAAM,CACL,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,4BAA4B,EACjE,cAAe,SAAS,cAAc,6BAA6B,EACnE,MAAO,SAAS,cAAc,uBAAuB,EACrD,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAEEA,EAAK,aAAa,iBAAiB,QAASC,CAAW,EACvDD,EAAK,cAAc,iBAAiB,QAASC,CAAW,EAGxDD,EAAK,MAAM,iBAAiB,QAAUE,GAAM,CACtCA,EAAE,SAAWF,EAAK,OAAOG,EAAU,CAC3C,CAAG,EAGD,SAAS,iBAAiB,UAAYD,GAAM,CACtCA,EAAE,MAAQ,UAAY,CAACF,EAAK,MAAM,UAAU,SAAS,WAAW,GAClEG,GAEN,CAAG,EAED,SAASF,GAAc,CACrBD,EAAK,MAAM,UAAU,OAAO,WAAW,EACvC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC3C,CAED,SAASG,GAAa,CACpBH,EAAK,MAAM,UAAU,IAAI,WAAW,EACpC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC3C,CAGD,MAAMI,EAAQ,SAAS,iBAAiB,eAAe,EACvD,IAAIC,EAAgB,EAEpBD,EAAM,QAAQ,CAACE,EAAMC,IAAU,CAC7BD,EAAK,iBAAiB,QAAS,IAAM,CACnCD,EAAgBE,EAAQ,EACxBH,EAAM,QAAQ,CAACI,EAAGC,IAAM,CACtBD,EAAE,UAAU,OAAO,SAAUC,EAAIJ,CAAa,CACtD,CAAO,CACP,CAAK,CACL,CAAG,EAGDL,EAAK,KAAK,iBAAiB,SAAU,MAAOE,GAAM,CAChDA,EAAE,eAAc,EAEhB,MAAMQ,EAAOV,EAAK,KAAK,SAAS,KAAQ,MAAM,OACxCW,EAAQX,EAAK,KAAK,SAAS,QAAW,MAAM,OAC5CY,EAASP,EAGf,GAAIK,EAAK,OAAS,GAAKA,EAAK,OAAS,GAAI,CACvC,MAAM,qCAAqC,EAC3C,MACD,CACD,GAAIE,EAAS,GAAKA,EAAS,EAAG,CAC5B,MAAM,mCAAmC,EACzC,MACD,CACD,GAAID,EAAM,OAAS,IAAMA,EAAM,OAAS,IAAK,CAC3C,MAAM,+CAA+C,EACrD,MACD,CAED,GAAI,CAOF,GAAI,EANQ,MAAM,MAAM,IAAK,CAC3B,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAoB,EAC/C,KAAM,KAAK,UAAU,CAAE,KAAAD,EAAM,OAAAE,EAAQ,MAAAD,EAAO,CACpD,CAAO,GAEQ,GAAI,MAAM,IAAI,MAAM,iBAAiB,EAE9CR,IACAH,EAAK,KAAK,QACVK,EAAgB,EAChBD,EAAM,QAASI,GAAMA,EAAE,UAAU,OAAO,QAAQ,CAAC,EAEjD,MAAM,oBAAoB,CAC3B,OAAQK,EAAK,CACZ,MAAM,iCAAmCA,EAAI,OAAO,CACrD,CACL,CAAG,CACH,GAAI"}