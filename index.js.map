{"version":3,"file":"index.js","sources":["../src/js/artist-modal.js","../src/js/artists-section.js","../src/js/menu.js","../src/js/feedback.js","../src/main.js"],"sourcesContent":["import '../css/artist-modal.css';\nimport axios from 'axios';\n\n\nexport async function listenArtistsSection() {\n  const learnBtns = document.querySelectorAll('.learn-more');\n  learnBtns.forEach(btn => {\n    btn.addEventListener('click', async () => {\n      const artistId = btn.dataset.id;\n      try {\n        const response = await axios.get(`/artists/${artistId}/albums`);\n        const artist = response.data;\n        console.log(`Artist: ${JSON.stringify(artist)}`);\n\n        const modal = document.querySelector('.artist-modal');\n        const modalContent = document.querySelector('.artist-info');\n        modalContent.innerHTML = renderArtistModal(artist);\n        console.log(`modal.classList: ${modal.classList}`);\n        modal.classList.remove('hidden-artist-modal');\n        console.log(`modal.classList: ${modal.classList}`);\n      } catch (error) {\n        console.error('Error loading artist info:', error);\n      }\n    });\n  });\n\n  const closeBtn = document.querySelector('.close');\n  closeBtn.addEventListener('click', () => {\n    const modal = document.querySelector('.artist-modal');\n    modal.classList.add('hidden-artist-modal');\n  });\n}\n\nfunction renderArtistModal(artist) {\n  return `\n    <h2 class=\"artist-name\">${artist.strArtist}</h2>\n    <div class=\"det_info\">\n      <img src=\"${artist.strArtistThumb}\" class=\"artist-img\" alt=\"${artist.strArtist}\">\n      <ul class=\"artist-details\">\n        <li>Years active: ${artist.intFormedYear || '?'} â€“ ${artist.intDiedYear || 'present'}</li>\n        <li>Sex: ${artist.strGender || '?'}</li>\n        <li>Members: ${artist.intMembers || '?'}</li>\n        <li>Country: ${artist.strCountry || '?'}</li>\n        <li>Biography: ${artist.strBiographyEN || 'No info'}</li>\n        <li>\n          Genres:\n          <ul class=\"artist-genres\">\n            ${artist.genres?.map(g => `<li>${g}</li>`).join('') || 'No genres'}\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <div class=\"album-full\">\n      <h3 class=\"alb\">Albums</h3>\n      <div class=\"albums-grid\">\n        ${artist.albumsList?.map(album => `\n          <div class=\"album-card\">\n            <h4>${album.strAlbum}</h4>\n            <div class=\"track-table\">\n              <div class=\"track-header\">\n                <div>Track</div>\n                <div>Time</div>\n                <div>Link</div>\n              </div>\n              <div class=\"track-body\">\n                ${album.tracks?.map(track => `\n                  <div class=\"track-row\">\n                    <div class=\"track-name\">${track.strTrack}</div>\n                    <div class=\"track-time\">${track.strTime || ''}</div>\n                    <div class=\"track-link\">\n                      ${track.movie ? `<a href=\"${track.movie}\" target=\"_blank\">ðŸŽ¬</a>` : ''}\n                    </div>\n                  </div>\n                `).join('')}\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    </div>\n  `;\n}\n","import axios from 'axios';\n\nimport { listenArtistsSection } from './artist-modal.js';\n\nexport async function getArtists(page = 1, limit = 8) {\n  const response = await axios.get('/artists', {\n    params: { page, limit },\n  });\n  return response.data;\n}\n\nfunction createArtistCard(artist) {\n  return `\n    <li class=\"artist-card\">\n      <img \n        class=\"artist-photo\" \n        src=\"${artist.strArtistThumb || 'https://via.placeholder.com/150'}\" \n        alt=\"${artist.strArtist}\" \n      />\n\n      <ul class=\"artist-genres\">\n        ${artist.genres\n          ?.map(genre => `<li>${genre}</li>`)\n          .join('') || ''}\n      </ul>\n\n      <h3 class=\"artist-name\">${artist.strArtist}</h3>\n\n      <p class=\"artist-description\">\n        ${artist.strBiographyEN \n          ? artist.strBiographyEN.slice(0, 100) + '...' \n          : 'No description'}\n      </p>\n\n      <button class=\"learn-more\" data-id=\"${artist._id}\">\n        Learn More\n        <svg class=\"icon-artists-learn-more\" width=\"8\" height=\"24\">\n          <use href=\"/img/icons.svg#icon-learn-more\"></use>\n        </svg>\n      </button>\n    </li>\n  `;\n}\n\nexport async function renderArtists(data, page, limit) {\n  const grid = document.querySelector('[data-artists-grid]');\n  const loadMoreBtn = document.querySelector('[data-artists-load]');\n  const loader = document.querySelector('[data-artists-loader]');\n\n  loader.hidden = false; \n  loadMoreBtn.hidden = true;\n\n  grid.insertAdjacentHTML(\n    'beforeend',\n    data.artists.map(createArtistCard).join('')\n  );\n\n    loader.hidden = true;\n  \n  if (page * limit < data.totalArtists) {\n    loadMoreBtn.hidden = false;\n  }\n\n  loadMoreBtn?.addEventListener('click', async () => {\n    page++;\n    const artists = await getArtists(page);\n    await renderArtists(artists, page, limit);\n    listenArtistsSection();\n  });\n}\n","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n  };\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\nimport Raty from 'raty-js';\n\nimport { Navigation, Pagination } from 'swiper/modules';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n// import 'raty-js/src/raty.css';\n\nexport async function getReviewsByQuery() {\n    const response = await axios.get('/feedbacks', {\n        params: { limit: 10, page: 1 },\n    });\n    return response.data;\n}\n\nexport async function handleReviews(reviews) {\n    const wrapper = document.querySelector('div.swiper-wrapper');\n\n    const markup = reviews.map(({ name, rating, descr }, index) =>\n        `<div class=\"swiper-slide\">\n            <div class=\"rating\" id=\"rating\">\n                <div class=\"stars-container stars-${index}\">\n                </div>\n            </div>\n            <p class=\"review\">\"${descr}\"</p>\n            <p class=\"review-author-name\">${name}</p>\n        </div>`\n    ).join('');\n\n    wrapper.insertAdjacentHTML('beforeend', markup);\n\n    reviews.forEach((review, index) => {\n        setRating(review.rating, index)\n    });\n\n    const swiper = new Swiper('.swiper', {\n        modules: [Navigation, Pagination],\n        direction: 'horizontal',\n        loop: true,\n        pagination: {\n            el: '.swiper-pagination',\n            type: 'bullets',\n            clickable: true,\n            dynamicBullets: true,\n            dynamicMainBullets: 1, \n        },\n        navigation: {\n            nextEl: '.swiper-button-next',\n            prevEl: '.swiper-button-prev',\n        }\n    });\n\n    document.querySelector('.swiper-button-next').addEventListener('click', () => swiper.slideNext());\n    document.querySelector('.swiper-button-prev').addEventListener('click', () => swiper.slidePrev());\n}\n\nfunction setRating(rating, index) {\n    const starsContainer = document.querySelector(`div.stars-${index}`);\n    const fullStars = Math.round(rating);\n    const emptyStars = 5 - fullStars;\n\n    starsContainer.innerHTML = '';\n\n    for (let i = 0; i < fullStars; i++) {\n        const star = document.createElement('div');\n        star.classList.add('star-container');\n        star.innerHTML = `\n            <svg class=\"star my-star-filled\">\n                <use href=\"../img/icons.svg#icon-star\"></use>\n            </svg>`;\n        starsContainer.appendChild(star);\n    }\n\n    for (let i = 0; i < emptyStars; i++) {\n        const star = document.createElement('div');\n        star.classList.add('star-container');\n        star.innerHTML = `\n            <svg class=\"star my-star-empty\">\n                <use href=\"../img/icons.svg#icon-star\"></use>\n            </svg>`;\n        starsContainer.appendChild(star);\n    }\n}\n","import './js/artists-section.js'\nimport './js/menu'\n// import './js/modal'\n// import './js/modal-feedback'\nimport './js/artist-modal'\nimport './js/feedback'\nimport './js/artists-section'\n\nimport axios from \"axios\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getReviewsByQuery, handleReviews } from './js/feedback.js';\nimport { getArtists, renderArtists } from './js/artists-section.js';\nimport { listenArtistsSection } from './js/artist-modal.js';\n\naxios.defaults.baseURL = \"https://sound-wave.b.goit.study/api\";\n\nasync function fetchData() {\n    const currentPage = 1;\n    const limit = 8;\n    const artists = await getArtists(currentPage);\n    console.log(`Artists: ${JSON.stringify(artists)}`);\n    await renderArtists(artists, currentPage, limit);\n    listenArtistsSection();\n\n    const reviews = await getReviewsByQuery();\n    console.log(`Review: ${JSON.stringify(reviews)}`);\n    await handleReviews(reviews.data);\n}\n\nfetchData();"],"names":["listenArtistsSection","btn","artistId","artist","axios","modal","modalContent","renderArtistModal","error","_a","g","_b","album","track","getArtists","page","limit","createArtistCard","genre","renderArtists","data","grid","loadMoreBtn","loader","artists","refs","toggleModal","getReviewsByQuery","handleReviews","reviews","wrapper","markup","name","rating","descr","index","review","setRating","swiper","Swiper","Navigation","Pagination","starsContainer","fullStars","emptyStars","i","star","fetchData"],"mappings":"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"}